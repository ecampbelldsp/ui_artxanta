<!doctype html>
<html>
<head>
	<link href='https://fonts.googleapis.com/css?family=DM Sans' rel='stylesheet'>
<meta charset="utf-8">
<title>¿Quiere factura?</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style_2.css">
	<link rel="stylesheet" href="assets/fontawesome-free-6.4.0-web/css/all.css">
	
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
     <script src="js/api_request.js"></script>

	<style>
	.titular{
		font-family: 'DM Sans';
		font-weight: bold;
		font-size: 40px;
		color: #6B43F1;
		white-space: initial;
		width: 100%;
		text-align: center;
		margin:0px;
		display:block;
		padding:30px;
	}
	

	</style>
	  
</head>
<body style="background: #EBEBEB;justify-content:center;display:flex;margin:0px; font-family: 'DM Sans';zoom:150%;">
	<audio  id="audio" autoplay src="Audios/9.-.mp3"  type="audio/mpeg"> </audio>
	
	<p class="fundir" style="font-weight: bold; font-size: 24px; position: absolute;bottom:35px;right:214px;opacity:0;color:#333333" translate="no"> Powered by: </p>
	<img src="image/logo.png" alt="logo" class=" fundir" style=" position: absolute;bottom:0px;right:0px; height:180px;opacity:0">
	
	
	<span style="position: absolute;margin-top: 25vh;margin-left: -100%;" class="dot"></span>

	<div class="fundir" style=" border-radius: 25px;background-color:white;height:800px; width: 500px;margin-top: 8vh;opacity:0;display:block;text-align:center;padding:60px">
		<p class="titular escoja" style="margin-bottom: 3px;margin-top: 3px;"> ¿Quiere factura? </p>
		<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
		<lottie-player src="https://assets3.lottiefiles.com/packages/lf20_ldelhecb.json"  background="transparent"  speed="1"  style="width: 100%; height: 400px;width:600px;margin-left:-160px;margin-bottom:71px"  loop  autoplay></lottie-player>
		<br>
		<button id="tarjeta" class="escoja custom-btn  btn-16" style= "width: 150px; height: 50px; font-size: 30px;padding: 0px;float:left;margin-left: 0px;" onclick="window.location = 'datos_factura.html'">Sí</button>
		
		<button class="escoja custom-btn  btn-16" style= "width: 150px; height: 50px; font-size: 30px;padding: 0px;float:right;margin-right: 0px;" onclick="window.location = 'take_key.html'">No</button>

		<br><br><br>

	<!-- <input autocomplete="off" type="button" class="boton " style="font-size: 24px; display:inline;margin-top:164px" value="Aceptar" onclick="location.href='take_key.html';"> -->
	
	
	
	<script type="text/javascript">
		
	$(window).load(function(){
		$(".fundir").animate({opacity:"1"});
	})
	
	</script>
	<script>
		fetchAsync_getPago("http://localhost:8080/");
	</script>
	<!-- <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script> -->
	
	<script type="text/javascript">
	
		var postGuest_jsonPago = JSON.parse(localStorage.postGuest);
		
		function restaurar(){
			$(".escoja").fadeIn();
			$(".tarjeta_gif").hide();
			$(".efectivo_gif").hide();
			$("#siguiente").hide();
			$("#atras").css("margin-top","275px");
			$("#atras").attr("onclick","history.back()")
		}
		
		function cobrarTarjeta(){
			$(".escoja").hide();
			$(".tarjeta_gif").fadeIn();
			$("#siguiente").fadeIn();
			$("#siguiente").css("margin-top","124px");
			$("#atras").css("margin-top","124px");
			$("#atras").attr("onclick","restaurar()")
			
			//Cobrar con tarjeta...
		}
		function cobrarEfectivo(){
			$(".escoja").hide();
			$(".efectivo_gif").fadeIn();
			$("#siguiente").fadeIn();
			$("#siguiente").css("margin-top","127px");
			$(".efectivo_gif").css("display","block");
			$("#atras").css("margin-top","127px");
			// setInterval(animaBilletes,1000);
			$("#atras").attr("onclick","restaurar()")
			
			
			var data = '{"device": "cashITL","amount": ""}';
			data_json = JSON.parse(data);
			data_json.amount = postGuest_jsonPago.balance;
			data = JSON.stringify(data_json);
			
			var response = makePayment_cash("http://localhost:8080/api-hardware/v1/payment/makePayment", data);
			
			console.log("Payment response", response);
			//Cobrar en efectivo...
		}
		
		function animaBilletes(){
			$("#billete").animate({rotate : "-15deg"}, "slow").delay(2000).animate({rotate : "0deg"}, "slow");
			$("#billete1").animate({rotate : "0deg"}, "slow").delay(2000).animate({rotate : "0deg"}, "slow");
			$("#billete2").animate({rotate : "15deg"}, "slow").delay(2000).animate({rotate : "0deg"}, "slow");
			$("#billete3").animate({rotate : "30deg"}, "slow").delay(2000).animate({rotate : "0deg"}, "slow");
		}
		
	</script>
	
</body>
</html>
